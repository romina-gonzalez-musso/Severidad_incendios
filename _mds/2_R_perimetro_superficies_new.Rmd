---
always_allow_html: true
output:
  github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## **2. OBTENER PER√çMETRO DEL INCENDIO Y CALCULAR SUPERFICIES**
*ACTUALIZADO: Enero 2026*

```{r, echo=FALSE, out.width="30%", fig.cap=""}
knitr::include_graphics("https://github.com/romina-gonzalez-musso/Severidad_incendios/blob/main/_images/3_R_perimetro.png")
```

El **dNBR (.tif)** obtenido con GEE se procesa en R para generar el **per√≠metro del incendio**, calcular la **superficie total afectada** y la **superficie por las clases de severidad** de [USGS](https://un-spider.org/advisory-support/recommended-practices/recommended-practice-burn-severity/in-detail/normalized-burn-ratio). 

Los pasos est√°n detallados en este tutorial de [estimaci√≥n de superficies de incendio afectadas por categor√≠a de severidad USGS](https://github.com/romina-gonzalez-musso/Severidad_Incendio-Steffen-Martin22/blob/master/_mds/2_NBR.md) y puede ser √∫til para comprender c√≥mo se obtiene el √°rea quemada. 

Las funciones de este repositorio tienen actualizaciones y mejoras üöÄ‚ú®
  
---  

### **Opci√≥n 1 (m√°s sencilla): usando la funci√≥n `Procesar_incendio`**

La [funci√≥n](https://github.com/romina-gonzalez-musso/Severidad_incendios/blob/main/R_Functions/Procesar_incendio.R) debe estar descargada en el directorio de trabajo y solo se le deben indicar los par√°metros: 

```{r Test, message=FALSE, warning=FALSE, paged.print=FALSE, eval = FALSE}
Sups <- procesar_incendio(nbr_dir = nbr_dir,        # Indicar el directorio donde est√° en dNBR.tif
                          output_dir = output_dir,  # Indicar un directorio de salida de todos los productos
                          umbral = umbral,          # Umbral de valores considerados "quemados". Seg√∫n USGS >100 = quemado
                          poligono = poligono,      # Pol√≠gono que delimita el √°rea que se va a procesar. Formato .shp
                          area_min = area_min)      # Superficie m√≠nima de los pol√≠gonos quemados. Para eliminar ruido
```

Ejemplo de uso:

[![Abrir en R](https://img.shields.io/badge/Abrir_en-R-276DC3?logo=R&logoColor=white)](https://github.com/romina-gonzalez-musso/Severidad_incendios/blob/main/Py_R/GEE_dNBR_2_Procesar_incendio_funcion.R)

---

### **Opci√≥n 2: script completo paso a paso**

Si se quiere ir ejecutando gradualmente la secuencia de pasos para ver los resultados parciales y hacer modificaciones al c√≥digo, este es el script completo:  

[![Abrir en R](https://img.shields.io/badge/Abrir_en-R-276DC3?logo=R&logoColor=white)](https://github.com/romina-gonzalez-musso/Severidad_incendios/blob/main/Py_R/GEE_dNBR_2_Procesar_incendio_paso_a_paso.R)

---
